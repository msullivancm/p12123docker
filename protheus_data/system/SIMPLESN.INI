?{"NOME DO ARQUIVO INI","SIMPLESN.INI"}
?{"DESCRICAO COMPLETA DO ARQUIVO MAGNETICO","DECLARACAO SIMPLES NACIONAL"}
?{"Versao do Aplicativo Contemplada pela Microsiga","Versao 0300"}

[XXX INICIALIZACAO DAS VARIAVEIS]   
(PRE) _aTotal[001] := ""
(PRE) lExitPFil	:= IIf(lAglFil, .T., .F.)
(PRE) _aTotal[099] := MATA936(@_atotal[001],aFilsCalc)
(PRE) lAbtMT950    := !_atotal[099]

[XXX REGISTRO MESTRE - CR=01]  
CR         C 002 0 "01"
TPDOCTO    C 002 0 "02"
DTGERACAO  C 008 0 DTOS(DDATABASE)
HRGERACAO  C 006 0 SUBSTR(TIME(),1,2)+SUBSTR(TIME(),4,2)+SUBSTR(TIME(),7,2)
VSFRONTEND C 004 0 "0000"
VSPREF     C 004 0 "0300"
Q55        N 004 0 1

[R55 CABECALHO DOCUMENTO FISCAL CR=55] 
(PRE) R55->(dbGoTop()) 
CR         C 002 0 "55"
IE         C 012 0 R55->IE
CNPJ       C 014 0 R55->CNPJ
CNAE       C 007 0 R55->CNAE
ANOBASE    C 004 0 R55->ANOBASE
SUMARIO    C 012 0 R55->SUMARIO
DACORDO    C 001 0 R55->DACORDO
TIPO       C 002 0 R55->TIPO
TRANSMITIDAC 001 0 R55->TRANSMI
ORGSOFTWAREC 014 0 R55->ORIGSOF
ORGPREDIG  C 001 0 R55->ORIGARQ	   
CHVINTERNA C 032 0 R55->CHAVINT
Q58        N 004 0 R55->Q58
Q80        N 004 0 R55->Q80   

[R58 DETALHAMENTO MENSAL CR=58]  
(PRE) R58->(dbGoTop())    
CR         C 002 0 "58"
REF        C 002 0 R58->REF
REGTRIB    C 002 0 R58->REGTRIB
MOVIMEN    N 001 0 R58->MOVIMEN
Q60        N 004 0 R58->Q60
Q70        N 004 0 R58->Q70 
Q78        N 004 0 R58->Q78 

[R60 DETALHES DE ENTRADAS CR=60]  
(PRE) R60->(dbGoTop())    
CR         C 002 0 "60"     
VINTERNA   N 015 2 R60->VINTERNA
VINTER     N 015 2 R60->VINTER
IMPAQUIS   N 015 2 R60->IMPAQUIS
Q65        N 004 0 R60->Q65 

[R65 DETALHES INTERESTADUAIS DE ENTRADAS CR=65]  
(PRE) R65->(dbGoTop())    
CR         C 002 0 "65"
UF         C 002 0 R65->UF
VALCONT    N 015 2 R65->VALCONT
BASECAL    N 015 2 R65->BASECAL
IMPOSTO    N 015 2 R65->IMPOSTO
OUTRAS     N 015 2 R65->OUTRAS 
PETROL     N 015 2 R65->PETROL 
OUTPROD    N 015 2 R65->OUTPROD 

[R70 CABECALHO DOCUMENTO FISCAL CR=70]  
(PRE) R70->(dbGoTop())    
CR         C 002 0 "70" 
SINTERNA   N 015 2 R70->VINTERNA
SINTER     N 015 2 R70->VINTER
IMPDEVIDO  N 015 2 R70->IMPDEV
SINTERNATR N 015 2 R70->SINTRIB
SINTERTR   N 015 2 R70->SENTRIB
SEXPORT    N 015 2 R70->SEXPORT
IMPOSTOD   N 015 2 R70->TRIBISS
Q75        N 004 0 R70->Q75
                  
[R75 DETALHES INTERESTADUAIS DE SAIDAS CR=75]  
(PRE) R75->(dbGoTop())    
CR         C 002 0 "75"   
UF         C 002 0 R75->UF
VALOR1     N 015 2 R75->VALCONT1
BASECAL1   N 015 2 R75->BASECAL1
VALOR2     N 015 2 R75->VALCONT2 
BASECAL2   N 015 2 R75->BASECAL2
IMPOSTO    N 015 2 R75->IMPOSTO
OUTRAS     N 015 2 R75->OUTRAS
ICMS       N 015 2 R75->ICMCOBRST
Q76        N 004 0 R75->Q76

[R76 ZFM/ALC CR=76]  
(PRE) R76->(dbGoTop())    
CR         C 002 0 "76"
NF         C 006 0 RetNf(R76->NFISCAL,6,"C")
EMISSAO    C 008 0 R76->EMISSAO
VALOR      N 015 2 R76->VALOR
CNPJDEST   C 014 0 R76->CNPJDES
MUNDEST    C 005 0 R76->MUNICIP
            
[R78 DETALHES DEDUCOES CR=78]  
(PRE) R78->(dbGoTop())    
CR         C 002 0 "78"
SUBITEM    C 005 0 R78->SUBITEM
VALOR      N 015 2 R78->VALOR
FLEGAL     C 100 0 R78->FLEGAL
OCORREN    C 300 0 R78->OCORREN

[R80 DIPAM CR=80]  
(PRE) R80->(dbGoTop())    
CR         C 002 0 "80"
CODDIP     C 002 0 R80->CODDIP
MUNICIP    C 005 0 R80->MUNICIP
VALOR      N 015 2 R80->VALOR

[XXX]
(PRE) Apagtrba(_aTotal[1])

